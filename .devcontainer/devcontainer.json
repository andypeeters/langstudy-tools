// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/dotnet
{
	"name": "C# (.NET)",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"build": {
		"dockerfile":"Dockerfile"
	},

	"customizations": {
        "vscode": {
            "extensions": [
            	"ms-dotnettools.vscode-dotnet-runtime",
				"ms-dotnettools.csharp",
				"dbaeumer.vscode-eslint",
				"ms-dotnettools.csdevkit"
            ]
        }
	},

	// Mount Wayland targets.
	"mounts": [
		"source=/dev/dri,target=/dev/dri,type=bind",
		"source=/dev/snd,target=/dev/snd,type=bind",
		"source=/etc/asound.conf,target=/etc/asound.conf,type=bind",
    ],

	"workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,Z",
	"workspaceFolder": "/workspace",

	"runArgs": [
		"--userns=keep-id",

		"--privileged",
        
        // Add some groups for dri and snd access.
		"--group-add", "17",
		"--group-add", "26",
		"--group-add", "303"
	],
	
	"containerUser": "vscode"
}
